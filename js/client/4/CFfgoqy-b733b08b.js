flexbe_cli.entity.setClientJs("element","media01",{components:["image","video","slider"]});

flexbe_cli.entity.setClientJs("element","rotator01",{$rotator:null,$list:null,$animationElement:null,eventId:null,animation:null,animationId:null,speed:null,delay:null,loop:null,animationSet:!1,animationStarted:!1,completedEvent:null,animeFunction:null,typedFunction:null,maxHeight:0,documentHidden:null,documentVisibilityChange:null,onInit(){this.events(),this.setInitParams()},onLoad(){!this.inView||this.animationSet||this.animationStarted||(this.animationSet=!0,this.setInitParams(),this.startAnimation())},onView(t){const i=this.animationSet&&this.animationStarted;this.loaded&&(t&&!i?(this.animationSet=!0,this.clearAnimation(),this.setInitParams(),this.startAnimation()):t&&i?this.restartAnimation():!t&&i&&this.pauseAnimation())},onResize(){this.setMaxHeight(),this.loaded&&0!==this.maxHeight&&(this.clearAnimation(),this.startAnimation())},onUpdate(){this.clearAnimation(),this.setInitParams()},events(){void 0!==document.hidden?(this.documentHidden="hidden",this.documentVisibilityChange="visibilitychange"):void 0!==document.msHidden?(this.documentHidden="msHidden",this.documentVisibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.documentHidden="webkitHidden",this.documentVisibilityChange="webkitvisibilitychange"),document.addEventListener(this.documentVisibilityChange,this.handleVisibilityChange.bind(this),!1),flexbe_cli.events.on(`font_changed.${this.eventId}`,(()=>{this.setMaxHeight()}))},handleVisibilityChange(){this.animationSet&&this.animationStarted&&(document[this.documentHidden]?this.pauseAnimation():setTimeout((()=>this.restartAnimation()),100))},setInitParams(){this.$rotator=this.$area.find(".text-rotator"),this.$animationElement=this.$rotator.find(".text-animation"),this.animationId=this.$animationElement.attr("data-id"),"typing"===this.animationId?this.require=["/_s/lib/typed/typed.min.js"]:this.require=["/_s/lib/anime/anime.min.js?321"],this.eventId=`anim_${this.id}`,this.maxHeight=0,this.$rotator.addClass(this.eventId),this.setList(),this.setMaxHeight()},setList(){this.$list=this.$area.find(".animation-container").filter(((t,i)=>!!$(i).find(".animate")[0].innerText&&i)).each(((t,i)=>{const n=$(i).find(".animate")[0],e=n.innerText;n.innerHTML=e.replace(/(<[^>]+>)/g,"")}))},setMaxHeight(){null!=this.$list&&this.$list.length>0?(this.maxHeight=0,this.$list.each(((t,i)=>{const n=this.$area.closest(".modal-content").length>0,e=$(i).find(".animate")[0],a=e.innerText;n&&!this.inView?this.maxHeight="auto":"typing"!==this.animationId||this.animation?("counter"!==this.animationId&&this.breakToWordsAndLetters($(i)),this.maxHeight=Math.max(this.maxHeight,$(i).height()),e.innerHTML=a):(e.innerText=`${i.innerText}|`,this.maxHeight=Math.max(this.maxHeight,$(i).height()),e.innerText=i.innerText.slice(0,i.innerText.length-1))}))):this.maxHeight=+this.$rotator.attr("data-size"),this.$area.find(".rotator-holder").css("height",this.maxHeight)},setAnimationParams(){this.$rotator.removeClass("animation-stopped"),this.$rotator.addClass("to-animate"),this.speed=1/+this.$animationElement.attr("data-speed"),this.delay=1e3*+this.$animationElement.attr("data-delay"),this.loop="true"===this.$animationElement.attr("data-loop"),this.animation=this.parseAnimation()},startAnimation(){this.setAnimationParams();const t=this.$list&&this.$list.length>0||!1,i=this.animation&&this.animation.id||!1,n=this.animeFunction&&this.animeFunction.children||!1,e=this.typedFunction&&this.typedFunction.strings||!1;t&&i&&!this.animationStarted&&this.maxHeight>0&&(this.animationStarted=!0,"typing"===this.animation.id||n?e||this.startTypingAnimation():(this.$rotator.removeClass("to-animate"),this.playListItem(0)))},pauseAnimation(){const t=this.animeFunction&&this.animeFunction.children||!1,i=this.typedFunction&&this.typedFunction.strings||!1;"typing"===this.animationId&&i?this.typedFunction.stop():t&&this.animeFunction.pause()},restartAnimation(){const t=this.animeFunction&&this.animeFunction.children||!1,i=this.typedFunction&&this.typedFunction.strings||!1;"typing"===this.animationId&&i?this.typedFunction.start():t&&this.animeFunction.play()},playListItem(t){const i=$(this.$list[t]);i.addClass("active"),this.onAnimationStart({index:t,$target:i})},onAnimationStart({index:t,$target:i}){if(this.animation.steps&&this.animation.steps.length){const n=`.text-rotator.${this.eventId} .animation-container.active`;if(this.animation.replaceString){const t=i.find(".animate")[0],n=t.innerText;t.innerHTML=n.replace(/({.+})|(\[([^\]]+)])|(\S*\(([^)]+)\)\S{0,1})|\S+/g,"<span class='word'>$&</span>");const e="(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])",a=new RegExp(e,"g");let s;s=a.test(n)?new RegExp(`${e}|([^\\s])`,"g"):new RegExp("[^\\s]","g"),i.find(".word").each(((t,i)=>{i.innerHTML=i.innerText.replace(s,"<span class='letter'>$&</span>")}))}this.animeFunction=anime.timeline({loop:1}),this.animeFunction.id=this.eventId;const e=this.animation.steps.map((t=>this.parseStep({step:t,container:n})));this.loop||t!==this.$list.length-1||e.splice(1),e.forEach((t=>{this.animeFunction.add(t)})),this.animeFunction.play(),this.animeFunction.finished.then((()=>this.onAnimationFinished({index:t,$target:i}))).catch((t=>console.error(t)))}},onAnimationFinished({index:t,$target:i}){if("typing"!==this.animationId){const n=t>=this.$list.length-1;this.purgeCurrentInstance(),i.removeAttr("style"),i.find(".animate").removeAttr("style"),this.$rotator.find(".animation-container").removeClass("active"),n?this.loop?this.playListItem(0):(i.addClass("active"),this.clearAnimation(!1,"animation stop")):this.playListItem(t+1)}},startTypingAnimation(){if("function"!=typeof Typed)return;const t=`.text-rotator.${this.eventId} .typing.active .animate`,i=[],n=new RegExp("(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])","g");this.$list.find(".animate").each(((t,e)=>{const a=e.innerText;n.test(a)&&(e.innerHTML=a.replace(n,"`$&`")),i.push(e.innerText)})),this.$list.first().removeClass("active").clone().addClass("typing active").appendTo(this.$rotator),this.setList();const e={...this.animation,strings:i};this.typedFunction=new window.Typed(t,e)},clearAnimation(t=!0){const i=this.animeFunction&&this.animeFunction.children||!1,n=this.typedFunction&&this.typedFunction.strings||!1;if(this.loaded&&"typing"!==this.animationId&&this.purgeCurrentInstance(),i&&(this.animeFunction=null),n&&(this.$rotator.find(".typing").remove(),this.setList(),this.typedFunction.destroy(),this.typedFunction=null),this.animation&&this.animation.id&&(this.animation=null,this.animationSet=!1),this.$rotator.length){const i=this.$rotator.find(".animation-container");this.$rotator.css("opacity",""),this.$rotator.addClass("animation-stopped"),i.length&&(i.removeClass("active"),t?(this.animationStarted=!1,i.first().addClass("active")):i.last().addClass("active"))}},purgeCurrentInstance(){const t=anime.running;let i;t.forEach(((t,n)=>{t.id===this.eventId&&(i=n)})),"number"==typeof i&&t.splice(i,1)},parseAnimation(){let t;if(this.$animationElement.attr("data-steps")){const i=this.$animationElement.attr("data-default-speed");if("typing"===this.animationId){const n=JSON.parse(JSON.parse(this.$animationElement.attr("data-steps")))[0];t={id:this.animationId,loop:this.loop,typeSpeed:Math.round(this.speed*n.typeSpeedFactor*i),backSpeed:Math.round(this.speed*n.backSpeedFactor*i),backDelay:Math.round(this.delay*n.backDelayFactor),contentType:null,preStringTyped:()=>{this.$rotator.removeClass("to-animate")},onStringTyped:t=>{this.loop||t!==this.$list.length-2||setTimeout((()=>{this.clearAnimation(!1)}),180)}}}else t={defaultSpeed:i,steps:JSON.parse(JSON.parse(this.$animationElement.attr("data-steps"))),speed:this.speed,delay:this.delay,id:this.animationId,loop:this.loop,replaceString:"true"===this.$animationElement.attr("data-replace")}}return t},parseStep({step:t,container:i}){return{...t,targets:`${i} ${t.targets}`,duration:this.getStepDuration(t),delay:this.getStepDelay(t)}},getStepDuration(t){return 0===t.duration?0:Math.round(this.speed*(t.durationFactor?t.durationFactor:t.duration)*this.animation.defaultSpeed)},getStepDelay(t){if(0===t.delay)return 0;const i=t.delayFactor?t.delayFactor:1;if(t.delay&&t.delay instanceof Object){const i=this.getStepDuration(t)*t.delay.factor;return t.delay.increment&&t.delay.add?(n,e)=>t.delay.add+i*(e+t.delay.incrementBy):t.delay.increment?(n,e)=>i*(e+t.delay.incrementBy):t.delay.add?(n,e)=>t.delay.add+i*e:(t,n)=>i*n}return Math.round(this.delay*i)},breakToWordsAndLetters(t){const i=t.find(".animate")[0],n=i.innerText;i.innerHTML=n.replace(/({.+})|(\[([^\]]+)])|(\S*\(([^)]+)\)\S{0,1})|\S+/g,"<span class='word'>$&</span>");const e="(?:[âœ€-âž¿]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[#-9]ï¸?âƒ£|ãŠ™|ãŠ—|ã€½|ã€°|â“‚|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|ðŸ†Ž|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|ðŸˆš|ðŸˆ¯|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|â€¼|â‰|[â–ª-â–«]|â–¶|â—€|[â—»-â—¾]|Â©|Â®|â„¢|â„¹|ðŸ€„|[â˜€-â›¿]|â¬…|â¬†|â¬‡|â¬›|â¬œ|â­|â­•|âŒš|âŒ›|âŒ¨|â|[â©-â³]|[â¸-âº]|ðŸƒ|â¤´|â¤µ|[â†-â‡¿])",a=new RegExp(e,"g");let s;s=a.test(n)?new RegExp(`${e}|([^\\s])`,"g"):new RegExp("[^\\s]","g"),t.find(".word").each(((t,i)=>{i.innerHTML=i.innerText.replace(s,"<span class='letter'>$&</span>")}))}});

flexbe_cli.entity.setClientJs("block","FREE",{components:["background"]});

flexbe_cli.entity.setClientJs("block","HEADER",{components:["background"]});

flexbe_cli.entity.setClientJs("element","button01",{components:["icon"]});

flexbe_cli.entity.setClientJs("element","figure",{components:["image"]});

flexbe_cli.entity.setClientJs("element","icon01",{components:["image","icon"]});
